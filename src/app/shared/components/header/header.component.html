<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <a href="/" class="logo navbar-brand">
      <img
        class="logo__image"
        [src]="
          themeService.isDarkMode()
            ? '/assets/images/misc/axonivy-logo.svg'
            : '/assets/images/misc/axonivy-logo-black.svg'
        "
        alt="Axon Ivy" />
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div
      class="collapse navbar-collapse justify-content-between"
      id="navbarSupportedContent">
      <div></div>

      <!-- Mobile Search Input -->
      <form class="d-lg-none" role="search">
        <input
          class="form-control me-2"
          type="search"
          [placeholder]="
            translateService.get('common.search.placeholder') | async
          "
          [ariaLabel]="
            translateService.get('common.search.placeholder') | async
          " />
      </form>

      <!-- Navigation -->
      <ul class="navbar-nav mr-auto">
        @for (item of navItems; track $index) {
          <li class="nav-item" [ngClass]="{ active: item.link === '/' }">
            <a class="nav-link" aria-current="page" [href]="item.link">
              {{ item.label | translate }}
            </a>
          </li>
        }
      </ul>

      <ul
        class="navbar-nav mr-auto flex-lg-row flex-column-reverse align-items-lg-center align-items-sm-stretch">
        <!-- Theme Mode -->
        <li class="m-2 header__theme-button border-top-md-gray">
          <div
            class="nav-item text-center m-t-5"
            (click)="themeService.changeTheme()">
            @if (themeService.isDarkMode()) {
              <i class="bi bi-sun"></i>
            } @else {
              <i class="bi bi-moon"></i>
            }
          </div>
        </li>

        <!-- Collapse Search -->
        <li class="m-2 header__search-button nav-item d-none d-lg-block">
          <i
            class="bi bi-search"
            data-bs-toggle="collapse"
            href="#collapseSearch"
            role="button"
            aria-expanded="false"
            aria-controls="collapseSearch"></i>

          <div class="collapse" id="collapseSearch">
            <input
              class="form-control me-2 position-absolute top-100 start-0"
              type="search"
              [placeholder]="
                translateService.get('common.search.placeholder') | async
              "
              [ariaLabel]="
                translateService.get('common.search.placeholder') | async
              " />
          </div>
        </li>
        
        <!-- Language Selection -->
        <li>
          <select
            class="nav-item m-2 form-select form-select-sm w-auto d-none d-lg-block"
            aria-label="Language"
            [(ngModel)]="selectedLanguage"
            (ngModelChange)="onSelectLanguage($event)"
            name="language">
            @for (language of languages; track $index) {
              <option [value]="language.value">
                {{ language.label | translate }}
              </option>
            }
          </select>
        </li>
        <!-- Download Latest LTS Version -->
        <li class="nav-item m-2 header__download-button">
          <button
            class="btn w-md-100"
            [ngClass]="themeService.isDarkMode() ? 'btn-light' : 'btn-primary'">
            {{ 'common.footer.downloadLatestLTSVersion' | translate }}
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
