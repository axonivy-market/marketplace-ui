<div
  class="product-detail__versions-action position-relative d-flex justify-content-center">
  <button
    class="btn btn__install"
    [ngClass]="themeService.isDarkMode() ? 'btn-light' : 'btn-primary'"
    (click)="onInstallArtifact()">
    {{ 'common.product.detail.install.buttonLabel' | translate }}
  </button>
  <button
    class="btn btn__download btn-secondary dropdown-toggle primary-bg"
    type="button"
    (click)="onShowVersionAndArtifact()"
    aria-expanded="false">
    {{ 'common.product.detail.download.buttonLabel' | translate }}
  </button>
  @if (isDropDownDisplayed()) {
    <div class="up-arrow up-arrow__action"></div>
    <div class="dropdown-menu show mt-5 maven-artifact-version__action">
      <form>
        <div class="form-group">
          <label for="artifacts-selector" class="form-label fs-small">
            {{
              'common.product.detail.download.artifactSelector.label'
                | translate
            }}
          </label>
          <select
            id="artifacts-selector"
            [(ngModel)]="selectedArtifact"
            name="Artifact"
            class="form-select form-select-sm"
            aria-label=".form-select-sm example">
            @for (item of artifacts; track $index) {
              <option [value]="item">{{ item.name }}</option>
            }
          </select>
        </div>
        <div class="form-group">
          <label for="verions-selector" class="form-label mt-2 fs-small">
            {{
              'common.product.detail.download.versionSelector.label' | translate
            }}
          </label>
          <select
            id="verions-selector"
            [(ngModel)]="selectedVersion"
            name="Version"
            class="form-select form-select-sm"
            aria-label=".form-select-sm example">
            @for (item of versions; track $index) {
              <option [value]="item">{{ item }}</option>
            }
          </select>
        </div>
        <a
          href="#"
          class="fs-small primary-color text-decoration-none"
          (click)="onShowDevVersion($event)">
          {{ 'common.product.detail.download.hideDevVersions' | translate }}
        </a>
        <div class="form-group d-flex justify-content-end">
          <button
            class="btn"
            [ngClass]="themeService.isDarkMode() ? 'btn-light' : 'btn-primary'"
            (click)="downloadArifact()"
            type="button"
            id="downloadButton">
            {{ 'common.product.detail.download.buttonLabel' | translate }}
          </button>
        </div>
      </form>
    </div>
  }
  @if (isInvalidInstallationEnvironment()) {
    <div class="up-arrow up-arrow__warning"></div>
    <div
      class="dropdown-menu show mt-5 invalid-installation-environment__warning">
      <p class="fs-small mb-0">
        Please open the
        <a href="https://market.axonivy.com/" class="primary-color">
          Axon Ivy Market
        </a>
        inside your
        <a class="primary-color" href="https://developer.axonivy.com/download">
          Axon Ivy Designer
        </a>
        (minimum version 9.2.0)
      </p>
    </div>
  }
</div>
